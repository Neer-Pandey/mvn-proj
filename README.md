Go to: Manage Jenkins â†’ Plugin Manager â†’ Available

Search and install:

Git Plugin

Maven Integration Plugin

Gradle Plugin (if using Gradle)

Pipeline Plugin

âœ… Step 3: Create and Push Java Project to GitHub
Create a Maven/Gradle Java project locally.

Initialize Git and push to GitHub:

bash
Copy
Edit
git init
git remote add origin https://github.com/username/sample-maven-project.git
git add .
git commit -m "Initial commit"
git branch -M main
git push -u origin main
âœ… Step 4: Create Jenkins Job
Go to: Jenkins Dashboard â†’ New Item

Name: Maven-CI-Pipeline

Select: Freestyle project â†’ OK

âœ… Step 5: Configure Git
Under Source Code Management, select: Git

GitHub repo URL:

arduino
Copy
Edit
https://github.com/username/sample-maven-project.git
Branches to build:

bash
Copy
Edit
*/main
âœ… Step 6: Set Build Triggers
Check: Poll SCM

Schedule:

Copy
Edit
H/5 * * * *
âœ… Step 7: Configure Build
Under Build, click Add build step â†’ Invoke top-level Maven targets

Goals:

bash
Copy
Edit
clean compile test package
Click Add build step â†’ Execute Windows batch command

Command:

bash
Copy
Edit
java -cp target/sample-ci-project-1.0-SNAPSHOT.jar com.example.App
âœ… Click Save and build the job.
------------------------------------------------------------------------
wsl --install
ðŸ“¥ Install Ubuntu 22.04 LTS from Microsoft Store and set username/password.

bash
Copy
Edit
sudo apt update -y
sudo apt install ansible -y
ansible --version
âœ… Ansible Automation â€“ Lab Steps
bash
Copy
Edit
              mkdir ansible-lab
             cd ansible-lab
bash
Copy
Edit
vi inventory.ini
inventory.ini

ini
Copy
Edit
[local]
       localhost ansible_connection=local
bash
Copy
Edit
                    ansible all -i inventory.ini -m ping
âœ… Create Playbook
bash
Copy
Edit
                    vi install_htop.yml
                       install_htop.yml

yaml
Copy
Edit
---
- name: Install htop system monitor tool
  hosts: local
  become: true

  tasks:
    - name: Install htop package
      ansible.builtin.package:
        name: htop
        state: present
âœ… Run Playbook
bash
Copy
Edit
                              ansible-playbook -i inventory.ini install_htop.yml
âœ… Verify Installation
bash
Copy
Edit
htop




wsl --install
Inside WSL terminal:

bash
Copy
Edit
sudo apt update
sudo apt install ansible -y
ansible --version
âœ… 2. Create Directory & Inventory File
bash
Copy
Edit
cd /mnt/e/Dhivya/DevOps/
mkdir ansible-exp7
cd ansible-exp7
nano inventory
Paste into inventory:

ini
Copy
Edit
[local]
localhost ansible_connection=local
Save: Ctrl + O, Enter â†’ Exit: Ctrl + X

âœ… 3. Create playbook.yml
bash
Copy
Edit
nano playbook.yml
Paste into playbook.yml:

yaml
Copy
Edit
- name: Experiment 7 - Run Task on Localhost
  hosts: local
  tasks:
    - name: Print Hello
      debug:
        msg: "Hello from Ansible on Windows via WSL!"
Save: Ctrl + O, Enter â†’ Exit: Ctrl + X

âœ… 4. Run the Playbook
bash
Copy
Edit
ansible-playbook -i inventory playbook.yml
=-------------------------------------------------------------------------------------------------------------------

8. Practical Exercise: Set Up a Jenkins CI Pipeline for a Maven Project and Use Ansible to Deploy Artifacts Generated by Jenkins
Create Ansible Project (Program 7):

Log in to Jenkins.

Click New Item.

Enter a name for the new project.

Select Freestyle project and click OK.

Go to the General tab.

Under Environment, enable the checkbox Delete workspace before build starts.

In the Build section, add a Build Step â†’ Execute Windows batch command.

Enter the following command (adjust the path if needed):

bash
Copy
Edit
wsl ansible-playbook -i /mnt/e/Dhivya/Devops/ansible-exp7/inventory /mnt/e/Dhivya/Devops/ansible-exp7/playbook.yml
Click Save.

Open Services on your Windows system.

Find Jenkins service, right-click and select Properties.

Go to the Log On tab.

Set the system username and password, then click Apply and OK.

Restart the Jenkins service.

Log out of Jenkins and then log back in.

Open the Ubuntu terminal and check if Java is installed by running:

nginx
Copy
Edit
java -version
If Java is not installed, Ubuntu will suggest the installation command.

Choose the Java installation command for version 17 or higher.

Copy and run that command to install Java.

Enter your password when prompted.

Set the environment variables for Java in Ubuntu:

Open the bash configuration file:

bash
Copy
Edit
nano ~/.bashrc
Scroll to the bottom and add these lines:

bash
Copy
Edit
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH
Save and exit nano (press Ctrl+S, then Ctrl+X).

Verify your Java environment variables by running:

bash
Copy
Edit
echo $JAVA_HOME
Go back to Jenkins, click Build Now, and check the Console Output for the build status.

Create your Maven project using the commands from your earlier program (Program 2).

Edit your Ansible playbook file (playbook.yml) and write the following:

- name: Build and Run Maven App
  hosts: localhost
  tasks:
    - name: Ensure Maven is available
      command: mvn --version
      environment:
        JAVA_HOME: /usr/lib/jvm/java-17-openjdk-amd64

    - name: Run Maven build
      command: mvn clean install
      args:
        chdir: "/mnt/c/Users/Neer/Desktop/6th Sem/Devops/final8/myapp"
      environment:
        JAVA_HOME: /usr/lib/jvm/java-17-openjdk-amd64

    - name: Run Maven-built JAR
      command: java -jar target/myapp-1.0-SNAPSHOT.jar
      args:
        chdir: "/mnt/c/Users/Neer/Desktop/6th Sem/Devops/final8/myapp"
      environment:
        JAVA_HOME: /usr/lib/jvm/java-17-openjdk-amd64

      
Save and close the playbook file.

Open the Maven pom.xml file in Visual Studio Code.

Add the following inside the <project> tag to specify the main class in your jar:

xml
Copy
Edit
<build>
  <plugins>
    <plugin>
      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-jar-plugin</artifactId>
      <version>3.2.0</version>
      <configuration>
        <archive>
          <manifest>
            <mainClass>com.mvncmd.example.App</mainClass>
          </manifest>
        </archive>
      </configuration>
    </plugin>
  </plugins>
</build>
Save and close the pom.xml file.

In Jenkins, trigger the build again.

Check the Console Output to see if your Java program prints the expected "Hello World" output.



mvn archetype:generate -DgroupId=com.example -DartifactId=demo-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false
cd demo-app
code .
âœ… 2. Push Code to GitHub
In Visual Studio Code:

Go to Source Control (Ctrl+Shift+G)

Click "Publish to GitHub"

Choose public/private

Uncheck target/ directory

Click OK

âœ… 3. Login to GitHub
Verify your repo is visible at:
https://github.com/your-username/demo-app

âœ… 4. Login to Azure DevOps
Visit:
https://aex.dev.azure.com/me

âœ… 5. Azure Pipeline Steps
Create Organization

Create New Project

Go to Pipelines â†’ Create Pipeline

Choose GitHub

Select your GitHub demo-app repo

Choose Maven template

Review azure-pipelines.yml (auto-generated)

Click Save and Run

mvn archetype:generate -DgroupId=com.example -DartifactId=maven-example -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false
âœ… Step 2: Edit pom.xml
bash
Copy
Edit
cd maven-example
notepad pom.xml
Paste:

xml
Copy
Edit
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.example</groupId>
    <artifactId>maven-example</artifactId>
    <version>1.0-SNAPSHOT</version>

    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.12</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>3.8.1</version>
                <configuration>
                    <source>1.8</source>
                    <target>1.8</target>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
âœ… Step 3: Edit App.java
bash
Copy
Edit
notepad src\main\java\com\example\App.java
Paste:

java
Copy
Edit
package com.example;

public class App {
    public static void main(String[] args) {
        System.out.println("Hello, Maven");
        System.out.println("This is the simple realworld example....");

        int a = 5;
        int b = 10;
        System.out.println("Sum of " + a + " and " + b + " is " + sum(a, b));
    }

    public static int sum(int x, int y) {
        return x + y;
    }
}
âœ… Step 4: Build and Run Maven
bash
Copy
Edit
mvn clean install
mvn exec:java -Dexec.mainClass="com.example.App"
âœ… Step 5: Migrate to Gradle
bash
Copy
Edit
gradle init
Prompts:

Found Maven build: yes

DSL: 2

New APIs: no

âœ… Step 6: Edit build.gradle
bash
Copy
Edit
notepad build.gradle
Paste:

groovy
Copy
Edit
plugins {
    id 'java'
}

group = 'com.example'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'junit:junit:4.12'
}

task run(type: JavaExec) {
    main = 'com.example.App'
    classpath = sourceSets.main.runtimeClasspath
}
âœ… Step 7: Build and Run Gradle
bash
Copy
Edit
gradlew build
gradlew run
